<div align="center">

# 42 Cursus - ft_transcendence

![ecole_42](https://github.com/ayogun/42-project-badges/blob/main/badges/ft_transcendencem.png?raw=true)

<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" height="30" alt="python" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/django/django-plain.svg" height="30" alt="django" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" height="30" alt="html5" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" height="30" alt="css3" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" height="30" alt="javascript" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" height="30" alt="mysql" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nginx/nginx-original.svg" height="30" alt="nginx" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/debian/debian-original.svg" height="30" alt="debian" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg" height="30" alt="docker" />
<img width="12" />
<img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vscode/vscode-original.svg" height="30" alt="vscode" />

<br><br>

<table><thead><tr>
	<th colspan=3><strong id="team">Team</strong></th>
</tr></thead><tbody><tr>
	<td>
		<a href="https://profile.intra.42.fr/users/ycontre" target="_blank">
			<img src="https://cdn.intra.42.fr/users/0850b4bd9f3ceedc934b34897841fd5c/ycontre.jpg" height="120" alt="ycontre" />
			<br>
			<strong>Yavin Contré</strong>
		</a>
	</td>
	<td>
		<a href="https://profile.intra.42.fr/users/psalame" target="_blank">
			<img src="https://cdn.intra.42.fr/users/1e1b56d76ccf0bf150018fcc40be8781/psalame.jpg" height="120" alt="psalame" />
			<br>
			<strong>Paul Salamé</strong>
		</a>
	</td>
	<td>
		<a href="https://profile.intra.42.fr/users/ysabik" target="_blank">
			<img src="https://cdn.intra.42.fr/users/1046eb06e67db02233dde6a9528d95bc/ysabik.jpg" height="120" alt="ysabik" />
			<br>
			<strong>Yanis Sabik</strong>
		</a>
	</td>
</tr><tr>
	<td></td>
	<td>
		<a href="https://profile.intra.42.fr/users/ysabik" target="_blank">
			<img src="https://cdn.intra.42.fr/users/1367a6f5724176259cac1599918a02e8/kbutor-b.jpg" height="120" alt="kbutor-b" />
			<br>
			<strong>Kurt Butor-Blamont</strong>
		</a>
	</td>
	<td></td>
</tr></tbody></table>

<br><br>

</div>


## Technologies

**Debian version** : `bookworm (12.5)`

**Python version** : `>=3.10.1`

**Django version** : `4.2.11`

**PostgreSQL version** : `latest` (currently `16.3`)

**Web version** : `HTML5` | `CSS3` | `JavaScript (latest)`

**Bootstrap version** : `v5.3.3`

**ThreeJS release** : `r166`

**JWT** : Payload: *custom* | Encryption algorithm: `HMACSHA256`

<br><br>


## Modules

<br>

### Summary

|              | Major Module amt. | Minor Module amt. |       Total Score        |
| :----------: | :---------------: | :---------------: | :----------------------: |
| **Selected** |         12        |         6         | **15.0** <sub>/9.5</sub> |
| **Working**  |         7         |         3         |  **8.5** <sub>/9.5</sub> |

<br>

> [!IMPORTANT]
>
> • &nbsp; Major module score: `+1.0 / module`
>
> • &nbsp; Major module score: `+0.5 / module`
>
> • &nbsp; **Required Score**: `7.0`
>
> • &nbsp; **Required Score _to get all the bonuses_**: `9.5`

<br>

### Selected Modules

| State  |  Class  |           Category           | Module |
| :----: | :-----: | :--------------------------: | :----- |
|   ✅   | `major` | Web                          | [Use a Framework as backend](#major-use-a-framework-as-backend) |
|   ✅   | `minor` | Web                          | [Use a front-end framework or toolkit](#minor-use-a-front-end-framework-or-toolkit) |
|   ✅   | `minor` | Web                          | [Use a database for the backend](#minor-use-a-database-for-the-backend) |
|   ✅   | `major` | User Management              | [Standard user management, authentication, users across tournaments](#major-standard-user-management-authentication-users-across-tournaments) |
|   ❌   | `major` | User Management              | [Implementing a remote authentication](#major-implementing-a-remote-authentication) |
|   ✅   | `major` | Gameplay and user experience | [Remote players](#major-remote-players) |
|   ✅   | `major` | Gameplay and user experience | [Multiplayers (more than 2 in the same game)](#major-multiplayers-more-than-2-in-the-same-game) |
|   ✅   | `major` | Gameplay and user experience | [Add Another Game with User History and Matchmaking](#major-add-another-game-with-user-history-and-matchmaking) |
|   ❌   | `minor` | Gameplay and user experience | [Game Customization Options](#minor-game-customization-options) |
|   ❌   | `major` | Gameplay and user experience | [Live chat](#major-live-chat) |
|   ❌   | `major` | AI-Algo                      | [Introduce an AI Opponent](#major-introduce-an-ai-opponent) |
|   ❌   | `minor` | AI-Algo                      | [User and Game Stats Dashboards](#minor-user-and-game-stats-dashboards) |
|   ✅   | `major` | Cybersecurity                | [Implement Two-Factor Authentication (2FA) and JWT](#major-implement-two-factor-authentication-2fa-and-jwt) |
|   ❌   | `major` | Devops                       | [Designing the Backend as Microservices](#major-designing-the-backend-as-microservices) |
|   ✅   | `major` | Graphics                     | [Use of advanced 3D techniques](#major-use-of-advanced-3d-techniques) |
|   ❌   | `minor` | Accessibility                | [Expanding Browser Compatibility](#minor-expanding-browser-compatibility) |
|   ✅   | `minor` | Accessibility                | [Multiple language supports](#minor-multiple-language-supports) |
|   ✅   | `major` | Server-Side Pong             | [Replacing Basic Pong with Server-Side Pong and Implementing an API](#major-replacing-basic-pong-with-server-side-pong-and-implementing-an-api) |

> [!NOTE]
> If the link does not work, the development of the module is not yet started.

<br>

### Module List

- **Web**
  - [x] Major module: *Use a Framework as backend.*
  - [x] Minor module: *Use a front-end framework or toolkit.*
  - [x] Minor module: *Use a database for the backend.*
  - [ ] Major module: *Store the score of a tournament in the Blockchain.*

- **User Management**
  - [x] Major module: *Standard user management, authentication, users across tournaments.*
  - [x] Major module: *Implementing a remote authentication.*

- **Gameplay and user experience**
  - [x] Major module: *Remote players*
  - [x] Major module: *Multiplayers (more than 2 in the same game).*
  - [x] Major module: *Add Another Game with User History and Matchmaking.*
  - [x] Minor module: *Game Customization Options.*
  - [x] Major module: *Live chat.*

- **AI-Algo**
  - [x] Major module: *Introduce an AI Opponent.*
  - [x] Minor module: *User and Game Stats Dashboards*

- **Cybersecurity**
  - [ ] Major module: *Implement WAF/ModSecurity with Hardened Configuration and HashiCorp Vault for Secrets Management.*
  - [ ] Minor module: *GDPR Compliance Options with User Anonymization, Local Data Management, and Account Deletion.*
  - [x] Major module: *Implement Two-Factor Authentication (2FA) and JWT.*

- **Devops**
  - [ ] Major module: *Infrastructure Setup for Log Management.*
  - [ ] Minor module: *Monitoring system.*
  - [x] Major module: *Designing the Backend as Microservices.*

- **Graphics**
  - [x] Major module: *Use of advanced 3D techniques.*

- **Accessibility**
  - [ ] Minor module: *Support on all devices.*
  - [x] Minor module: *Expanding Browser Compatibility.*
  - [x] Minor module: *Multiple language supports.*
  - [ ] Minor module: *Add accessibility for Visually Impaired Users.*
  - [ ] Minor module: *Server-Side Rendering (SSR) Integration.*

- **Server-Side Pong**
  - [x] Major module: *Replacing Basic Pong with Server-Side Pong and Implementing an API.*
  - [ ] Major module: *Enabling Pong Gameplay via CLI against Web Users with API Integration.*


<br><br>


### [Major] Use a framework as backend

<br>

> **Backend used :** `Django` (version `4.2.11`)

> **Lang :** `Python` (version `>=3.10.1`)

> **Main application :** [./ft_django](#main-file-tree)

> **Applications :**
>  - [./api_app](#main-file-tree) : API, Authentication, Databases
>  - [./game_app](#main-file-tree) : Website part

**Short explanation :** The backend is developed using Django, a high-level Python web framework that encourages rapid and clean development. But beacause of the subject restrictions, we are using Django as a lite backend. The main purpose of it is to send a basic html base to the users and to provide an API to make the communication between the frontend and the database.

<br><br>


### [Minor] Use a front-end framework or toolkit

<br>

> **Frontend add-on used :** `Bootstrap toolkit` (version `v5.3.3`)

> **Lang :** `CSS3`, `JavaScript`

> **Implemented in :** [./game_app/templates/index.html](#main-file-tree)

**Short explanation :** The frontend design is developed using Bootstrap, a free and open-source CSS/JS framework directed at responsive front-end web development. It contains some pretty design templates for typography, forms, buttons, navigation, and other interface components.
We thank a lot the Bootstrap team for their amazing work. (They are the real MVP for letting us use a such great tool: we don't have to spend hours on the design part !)

<br><br>


### [Minor] Use a database for the backend

<br>

> **Database used :** `PostgreSQL` (version `latest`, currently `16.3`)

> **Lang :** `Bash`, `Python` (and no `SQL` !)

> **Implemented in :** [./srcs/postgresql](#main-file-tree) and [./api_app/models.py](#main-file-tree)

**Short explanation :** A database is sooooo useful. We all know that. Then wich one to choose ? The most used ? MySQL ? Nooo.... too easy. The subject is asking for a challenge. So we decided to use PostgreSQL. It is an object-relational database system that uses and extends the SQL language combined with many features that safely store and scale the most complicated data workloads.
To use it, so simple: use Python. A table is basically a class, a row is an instance of the class, and a column is an attribute of the class. And that's it ! Django will do the rest. You can now store and retrieve data from the database. It's like magic.

<br><br>


### [Major] Standard user management, authentication, users across tournaments

<br>

The standard user management feels mandatory. Of course our user should behave and be managed like .. real users !

That is why :
- [x] Users can subscribe to the website in a secure way. ([see more](#major-implement-two-factor-authentication-2fa-and-jwt))
- [x] Registered users can log in in a secure way. ([see more](#major-implement-two-factor-authentication-2fa-and-jwt))
- [x] Users can select a unique display name to play the tournaments. (their username)
- [x] Users can update their information. (route: `/settings`)
- [x] Users can upload an avatar, with a default option if none is provided. (route: `/settings`)
- [ ] Users can add others as friends and view their online status.
- [x] User profiles display stats, such as wins and losses. (route: `/profile/<id>`)
- [x] Each user has a Match History including 1v1 games, dates, and relevant details, accessible to logged-in users. (route: `/profile/<id>`)

<br><br>


### [Major] Implementing a remote authentication

<br>

TODO

<br><br>


### [Major] Remote players

<br>

Once more, the remote players are a must-have. We want to play with our friends, even if they are not in the same room as us. That's why we have implemented the remote players feature. Django is made to be able to handle multiple requests at the same time. So it was not that hard to implement this feature.

<br><br>


### [Major] Multiplayers (more than 2 in the same game)

<br>

Multiplayer games is one of the only "original" choice we made. We wanted to make a game where at least a dozen of players could play at the same time, or maybe more ? How about with `n` players ? <br>
How did we manage to do that ? Well, instead of playing in a basic rectangle arena, we decided to make a regular polygonal one. Obviously, the number of sides of the polygon is the number of players. <br>
With the graphics technology we used, we were able to make an up to 30 players game (without lag) ! <br>

<br><br>


### [Major] Add Another Game with User History and Matchmaking

<br>

This feature was tough to implement. Because of the modules [Multiplayers (more than 2 in the same game)](#major-multiplayers-more-than-2-in-the-same-game), [Use of advanced 3D techniques](#major-use-of-advanced-3d-techniques) and [Replacing Basic Pong with Server-Side Pong and Implementing an API](#major-replacing-basic-pong-with-server-side-pong-and-implementing-an-api), the amount of work was huge. <br>
So instead of making a whole new game physics engine, we decided to make, no one, but **two** new game modes ! We are proud to present you :
- **First To Mode (FT)** : *The first player to reach the score limit wins the game.*
- **Time Out Mode (TO)** : *The player with the highest score when the time is over wins the game.*
- **Battle Royale Mode (BR)** : *The last player alive wins the game.*

For the user history part, everything is stored in the database. The user can see his stats, his match history, and more in his profile page (route `/profile/<id>`). <br>

Finally, for the matchmaking part, we decided to make a simple matchmaking system. The player can choose the game mode he wants to play, and the system will find a game with the same game mode and the same number of players. <br>
◦ If multiple games are found, the player will join the game where the users have the closest *winrate* to his, ensuring a fair and balanced match. <br>
◦ If no game is found, the player will create a new game and wait for other players to join.

To put it in a nutshell, we follow these goals :
- [x] Develop a new, engaging game to diversify the platform’s offerings and entertain users.
- [x] Implement user history tracking to record and display individual user’s gameplay statistics.
- [x] Create a matchmaking system to allow users to find opponents and participate in fair and balanced matches.
- [x] Ensure that user game history and matchmaking data are stored securely and remain up-to-date.
- [x] Optimize the performance and responsiveness of the new game to provide an enjoyable user experience. Regularly update and maintain the game to fix bugs, add new features, and enhance gameplay.

<br><br>


### [Minor] Game Customization Options

<br>

On each game creation, the player will meet a configuration page where he can choose a plethora of options to customize his game. <br>

- **Game Mode** : *Either First To, Time Out, or Battle Royale.*
- **Number of Players** : *From 2 to 30. Determines the shape of the arena.*
- **Ball Speed** : *Either Slow, Normal, or Fast. Affects the starting velocity AND the acceleration of the rebounds.*
- **Theme** : *4 themes available. Changes the color, the style and the ambiance of the arena and the paddles.*
- [FT Only] **Score Limit** : *Determines the score limit to win the game.*
- [TO Only] **Time Limit** : *Determines the duration of the game.*

To conclude, we :
- [x] Offer customization features, such as power-ups, attacks, or different maps, that enhance the gameplay experience.
- [x] Allow users to choose a default version of the game with basic features if they prefer a simpler experience.
- [x] Ensure that customization options are available and applicable to all games offered on the platform.
- [x] Implement user-friendly settings menus or interfaces for adjusting game parameters.
- [x] Maintain consistency in customization features across all games to provide a unified user experience.

<br><br>


### [Major] Live chat

<br>

TODO

<br><br>


### [Major] Introduce an AI Opponent

<br>

TODO

<br><br>


### [Minor] User and Game Stats Dashboards

<br>

TODO

<br><br>


### [Major] Implement Two-Factor Authentication (2FA) and JWT

<br>

TODO

<br><br>


### [Major] Designing the Backend as Microservices

<br>

TODO

<br><br>


### [Major] Use of advanced 3D techniques

<br>

> **Advanced 3D librairy used :** `ThreeJs` (release `r166`)

> **Lang :** `JavaScript`

> **Implemented in :** [./game_app/static/js/pong_game](#main-file-tree)

<br><br>


### [Minor] Expanding Browser Compatibility

<br>

TODO

<br><br>


### [Minor] Multiple language supports

<br>

TODO

<br><br>


### [Major] Replacing Basic Pong with Server-Side Pong and Implementing an API

<br>

TODO

<br><br>


## Main file tree

<br>

```tree
.
├── api_app                 # API, Authentication, Databases
│   ├── auth.py
│   ├── jwt.py
│   ├── models.py
│   ├── urls.py
│   ├── views.py
│   └── ...
├── ft_django               # Core of the django app
│   ├── game_engine
│   │   └── ...
│   ├── tournament
│   │   └── ...
│   ├── pong_socket.py
│   ├── chat_socket.py
│   ├── settings.py
│   └── ...
├── game_app                # Website part
│   ├── static
│   │   ├── css
│   │   │   └── ...
│   │   ├── img
│   │   │   ├── pic         # Users' avatars
│   │   │   │   └── ...
│   │   │   └── ...
│   │   ├── js              # Website content
│   │   │   ├── components
│   │   │   │   └── ...
│   │   │   ├── pages
│   │   │   │   └── ...
│   │   │   ├── pong_game
│   │   │   │   └── ...
│   │   │   └── ...
│   │   └── lang            # Languages (.json files)
│   │       └── ...
│   ├── templates
│   │   └── index.html
│   ├── urls.py
│   └── views.py
├── srcs                    # Docker containers
│   ├── docker-compose.yml
│   └── postgresql
│       ├── Dockerfile
│       └── ...
├── manage.py
├── Makefile
└── README.md
```

<br><br>
